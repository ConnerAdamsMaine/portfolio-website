# Primary PostgreSQL connection string for full app storage
DATABASE_URL=postgres://postgres:postgres@127.0.0.1:5432/portfolio
# Set true when your Postgres provider requires SSL
PG_SSL=false
# Optional max pool size for node-postgres
PG_POOL_MAX=10

# Optional docker-compose.local.yml overrides
POSTGRES_DB=portfolio
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_PORT=5432
REDIS_PORT=6379

# Legacy SQLite database location (relative to the project root if not absolute)
DB_PATH=data/portfolio.sqlite
# Auto-create/seed tables on startup (defaults to true in dev, false in prod)
DB_AUTO_SEED=true

# Redis connection for rate limiting and response caching
REDIS_URL=redis://127.0.0.1:6379
# Key prefix used for all Redis records
REDIS_PREFIX=portfolio:
# Node adapter request body size limit (default is 512K; raise for admin uploads)
BODY_SIZE_LIMIT=8M

# Admin session signing secret (generate a long random string)
ADMIN_SESSION_SECRET=change-me-generate-a-long-random-secret
# Increment to revoke existing admin sessions.
ADMIN_SESSION_VERSION=1

# Admin login credentials
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=change-me

# Optional lead notification webhook
LEAD_WEBHOOK_URL=
# Optional bearer token for webhook auth
LEAD_WEBHOOK_TOKEN=
# Notification timeout in milliseconds
LEAD_NOTIFY_TIMEOUT_MS=2500

# Playground runtime + websocket settings
PLAYGROUND_ENABLED=false
PLAYGROUND_REQUIRE_ADMIN=true
PLAYGROUND_ENFORCE_SAME_ORIGIN=true
PLAYGROUND_RUNTIME_MODE=docker
PLAYGROUND_DOCKER_BINARY=docker
PLAYGROUND_WS_HOST=0.0.0.0
PLAYGROUND_WS_PORT=24680
PLAYGROUND_WS_PATH=/playground/ws
# Optional full ws/wss URL exposed to browser clients (e.g. wss://example.com/playground/ws)
PLAYGROUND_WS_PUBLIC_URL=
PLAYGROUND_CREATE_RATE_LIMIT_PER_MINUTE=3
PLAYGROUND_COMMAND_TIMEOUT_MS=20000
PLAYGROUND_MAX_OUTPUT_BYTES=64000
PLAYGROUND_MAX_COMMANDS_PER_SESSION=40
PLAYGROUND_COMMAND_RATE_WINDOW_MS=10000
PLAYGROUND_MAX_COMMANDS_PER_WINDOW=8
